<div class="row content-border-margin-regular">
    <div class="col-sm-6">
        <div class="panel panel-primary panel-marginless-sides" ng-init="initVisitHistory()" >
            <div class="panel-heading">
                <h3 class="panel-title">{{'CLINIC_PATIENT_VISIT_HISTORY' | translate}}</h3>
            </div>
            <div class="list-group" ng-repeat="visit in visits">
                <div class="bg-info content-border-padding-li">
                    {{'CLINIC_PATIENT_VISIT' | translate}} {{'COMMON_ON' | translate}} {{visit[0].encounterDatetime | date}}
                </div>
                <div class="list-group-item" ng-repeat="encounter in visit">
                    <div>{{encounter.encounterType.display}} {{'COMMON_ON' | translate}} {{encounter.encounterDatetime | date}},
                        {{'COMMON_BY' | translate}}: {{encounter.provider.display}}</div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-6">
        <div class="panel panel-primary panel-marginless-sides" ng-init="initMaxLabResults()">
            <div class="panel-heading">
                <h3 class="panel-title">{{'CLINIC_PATIENT_LAB' | translate}}</h3>
            </div>
            <div class="list-group">
                <div class="bg-info content-border-padding-li">
                    {{'CLINIC_PATIENT_COLLECTED' | translate}} {{'COMMON_ON' | translate}} {{maxLab.encounterDatetime | date}}
                </div>
                <div ng-repeat="obs in maxLab.obs">
                    <div ng-if="obs.groupMembers">
                        <div ng-repeat="member in obs.groupMembers">
                            <div class="list-group-item">
                                {{obs.concept.name.display}} - {{member.concept.name.display}}:
                                <span class="badge">{{isObject(member.value) ? member.value.display : member.value}}</span>
                            </div>
                        </div>
                    </div>
                    <div ng-if="!obs.groupMembers">
                        <div class="list-group-item">
                            {{obs.concept.name.display}}:
                            <span class="badge">{{isObject(obs.value) ? obs.value.display : obs.value}}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
