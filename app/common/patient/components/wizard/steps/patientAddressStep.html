<div class="panel-body">

  <div class="form-group form-group-lg" ng-repeat="addressLevel in vm.addressLevels">

    <label for="{{addressLevel.addressField}}" class="col-sm-2 control-label">{{addressLevel.name | translate}}
      <span class="asterick" ng-show="addressLevel.required">*</span>
    </label>

    <div class="col-sm-10" ng-class="{'has-error': vm.form[addressLevel.addressField].$invalid && vm.showMessages}">

      <div ng-messages for="vm.form[addressLevel.addressField].$error" ng-show="vm.showMessages">
        <div ng-messages-include="../common/application/views/error-messages.html"></div>
      </div>

      <input type="text" name="{{addressLevel.addressField}}" id="{{addressLevel.addressField}}"
             class="form-control keyboard-in"
             ng-required="{{addressLevel.required}}" ng-model="vm.patient.address[addressLevel.addressField]"
             uib-typeahead="entry as vm.entryDisplay(entry) for entry in vm.getAddressEntryList(addressLevel.addressField, $viewValue)"
             typeahead-input-formatter="vm.entryFormat($model)"
             typeahead-on-select="vm.addressFieldSelected(addressLevel.addressField, $item)"
             ng-change="vm.clearFields(addressLevel.addressField)"
             ng-pattern="/^([a-zA-Z0-9\s]|[\)\(\'\/\-\.])*$/" autocomplete="off"
             ng-maxlength="{{addressLevel.addressField === 'country' ? 50 : 255}}"
             maxlength="{{addressLevel.addressField === 'country' ? 50 : 255}}">
    </div>
  </div>

</div>
