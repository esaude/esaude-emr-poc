<div class="panel panel-primary content-border-margin"><!-- demographics -->
    <div class="panel-heading">
        <h3 class="panel-title">{{'PATIENT_INFO_NAME' | translate}}</h3>
    </div>
    <div class="panel-body" ng-controller="SimilarPatientsController">
        <div class="form-group form-group-lg"
             ng-class="{'has-error': aForm.givenName.$invalid && showMessages}">
            <label for="givenName" class="col-sm-2 control-label">{{'PATIENT_INFO_NAME' | translate}}:<span class="asterick">*</span></label>
            <div class="col-sm-10">
                <div ng-messages for="aForm.givenName.$error"
                     ng-messages-include="../poc-common/form-display/views/error-messages.html"
                     ng-show="showMessages">
                </div>
                <input type="text" class="form-control keyboard-in" id="givenName" name="givenName"
                       ng-model="patient.givenName" ng-change="refresh()"
                       placeholder="{{'PATIENT_INFO_NAME_PLACEHOLDER' | translate}}" title="Enter patient's first name."
                       my-autocomplete source="getAutoCompleteList" response-map="getDataResults"
                       data-item-type="personName" ui-mask-placeholder ui-mask-placeholder-char=""
                       required >
            </div>
        </div>
        <div class="form-group form-group-lg"
             ng-class="{'has-error': aForm.patientSurname.$invalid && showMessages}">
          <label for="patientSurname" class="col-sm-2 control-label">{{'PATIENT_INFO_SURNAME' | translate}}:<span class="asterick">*</span></label>
          <div class="col-sm-10">
            <div ng-messages for="aForm.patientSurname.$error"
                 ng-messages-include="../poc-common/form-display/views/error-messages.html"
                 ng-show="showMessages">
            </div>
            <input type="text" class="form-control keyboard-in" id="patientSurname" name="patientSurname"
                   ng-model="patient.familyName" ng-change="refresh()"
                   placeholder="{{'PATIENT_INFO_SURNAME_PLACEHOLDER' | translate}}" title="Enter patient's last name."
                   required>
          </div>
        </div>
        <div class="form-group form-group-lg">
            <label for="patient_muddle_name" class="col-sm-2 control-label">{{'PATIENT_INFO_OTHER_NAMES' | translate}}:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control keyboard-in" id="patient_muddle_name" ng-model="patient.middleName"
                       placeholder="{{'PATIENT_INFO_OTHER_NAMES_PLACEHOLDER' | translate}}" title="Enter patient's middle name.">
            </div>
        </div>

      <div id="ng-similarpatients">
        <div ng-show="result.length"><h2>{{ 'SIMILAR_PATIENTS' | translate }}</h2></div>
        <div ng-show="result.length">

          <table class="table table-striped">
            <thead>
            <tr>
              <th>{{'SEARCH_PATIENT_NID' | translate}}</th>
              <th>{{'SEARCH_PATIENT_FIRSTNAME' | translate}}</th>
              <th>{{'SEARCH_PATIENT_LASTNAME' | translate}}</th>
              <th>{{'PATIENT_INFO_OTHER_NAMES' | translate}}</th>
              <th>{{'SEARCH_PATIENT_GENDER' | translate}}</th>
              <th>{{'SEARCH_PATIENT_AGE' | translate}}</th>
              <th>{{'SEARCH_PATIENT_BIRTHDATE' | translate}}</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="patient in result" ng-click="loadPatientToDashboard(patient)">
              <td>{{patient.identifier}}</td>
              <td>{{patient.givenName}}</td>
              <td>{{patient.familyName}}</td>
              <td>{{patient.middleName}}</td>
              <td>{{patient.gender}}</td>
              <td>{{patient.age.years}}</td>
              <td>{{patient.birthdate | date}}</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
</div><!-- demographics -->

<div class="row bg-info-border content-border border-rouded go-to-right">
    <button type="button" class="btn btn-success btn-lg"
            ng-click="stepForward('gender', aForm.$valid)">
        <span class="glyphicon glyphicon glyphicon-step-forward"></span>
    </button>
</div>

<!--script src="../../scripts/virtual-keyboard.js" type="text/javascript"></script-->
